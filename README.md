A [SourceMod](https://www.sourcemod.net/) plugin for [Counter-Strike: Source](https://store.steampowered.com/app/240/CounterStrike_Source/) that notifies players of how many enemies or teammates they've flashed when throwing flashbangs.

![Preview](./preview/preview01.gif)

## Configuration & ConVars
The plugin automatically generates a config file to `cfg/sourcemod/plugin.wdif.cfg`.

Here is a list of ConVars.

```bash
// This file was auto-generated by SourceMod (v1.11.0.6968)
// ConVars for plugin "wdif.smx"


// The beam lifetime in seconds.
// -
// Default: "5.0"
wdif_beam_life "5.0"

// The beam width.
// -
// Default: "2.0"
wdif_beam_width "2.0"

// If 1, creates a temporary beam. Used for debugging
// -
// Default: "0"
// Minimum: "0.000000"
// Maximum: "1.000000"
wdif_create_beam "0"

// Whether to enable the Who Did I Flash plugin.
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "1.000000"
wdif_enabled "1"

// Notify flashbang thrower of enemies they've flashed.
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "1.000000"
wdif_enemy "1"

// Announce enemy names.
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "1.000000"
wdif_enemy_announce_names "1"

// The maximum distance from the flash detonation to check users.
// -
// Default: "6000.0"
// Minimum: "0.000000"
wdif_max_distance "6000.0"

// Notify flashbang thrower of teammates they've flashed
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "1.000000"
wdif_team "1"

// Announce teammate names.
// -
// Default: "1"
// Minimum: "0.000000"
// Maximum: "1.000000"
wdif_team_announce_names "1"

// The Who Did I Flash plugin's version.
// -
// Default: "1.0.0"
wdif_version "1.0.0"
```

## Command(s)
There's only one command included in the plugin which is `wdif` (in chat, prefix with `!` or `/` and through console, prefix with `sm_`).

This opens a menu where the client can enable/disable team and enemy notifications specifically which is then stored in a cookie so it saves on map change/server restart!

## Building
On Linux, you may use the [`build.sh`](./build.sh) Bash script I made to build the plugin's source code to the [`build/`](./build) directory. Make sure to change the `SM_DIR` environmental variable to the path to your SourceMod's scripting directory (default path is set to `/opt/sourcemod/addons/sourcemod/scripting`).

On Windows, you may drag the [`wdif.sp`](./scripting/wdif.sp) file into the `compile.exe` executable from the SourceMod's scripting directory.

## Installing
After building the plugin, copy the `wdif.smx` file to your game server's `addons/sourcemod/plugins` directory.

Additionally, copy the [`wdif.phrases.txt`](./translations/wdif.phrases.txt) file to your game server's `addons/sourcemod/translations` directory.

Afterwards, you may start/restart the map or server or use the `sm plugins load wdif` server-side command to load the plugin.

## Credits
* [Christian Deacon](https://github.com/gamemann)